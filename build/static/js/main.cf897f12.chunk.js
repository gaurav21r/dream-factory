(this["webpackJsonpdream-factory"]=this["webpackJsonpdream-factory"]||[]).push([[0],{247:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(124),i=n(144),r=n(302),s=n(6),l=n(10),d=n(8),j=(n(79),{h1:{},h2:{fontSize:"24px",overflow:"hidden",minHeight:"40px"},card:{borderRadius:"6px",backgroundColor:"white",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.25), 0px 1px 3px 1px rgba(0, 0, 0, 0.25)",flex:"1 1 auto",overflow:"auto",minHeight:0,margin:"8px"},ul:{listStyleType:"none"},li:{display:"flex",borderTop:"1px solid #D9D9D9",padding:"10px",width:"100%"},h3:{}}),u=n(18),b=n(1);function O(e){var t=e.label,n=(e.firestore,e.isSyncing),c=e.onSyncButtonClick,a=Object(u.k)();return Object(b.jsxs)("div",{style:h.container,children:[Object(b.jsxs)("div",{style:h.header,children:[Object(b.jsx)("span",{style:{marginRight:"20px"},onClick:function(e){return a(-1)},children:"<"}),Object(b.jsx)("span",{children:t})]}),Object(b.jsx)("img",{src:"/images/sync-icon.svg",alt:"Sync Icon",style:Object(l.a)({animation:n?"animName 1.75s ease infinite":""},h.syncButton),onClick:c})]})}var m,h={container:{width:"100%",backgroundColor:"#fff",minHeight:"53px",display:"flex",borderBottom:"1px solid #eee"},header:{color:"#000",paddingLeft:"30px",fontSize:"24px",fontWeight:900,alignSelf:"center"},syncButton:{alignSelf:"center",marginLeft:"auto",marginRight:"20px",cursor:"pointer",width:40}},f=n(34);function p(e){e.label,e.firestore;return Object(b.jsxs)("div",{style:x.container,children:[Object(b.jsx)(f.a,{to:"/projects",children:Object(b.jsx)("div",{style:Object(l.a)(Object(l.a)({},x.button),x.project),children:Object(b.jsx)("img",{style:Object(l.a)({},x.image),src:"/images/project-icon.svg"})})}),Object(b.jsx)("div",{style:Object(l.a)(Object(l.a)({},x.button),x.add),children:Object(b.jsx)("img",{style:Object(l.a)({},x.image),src:"/images/add-icon.svg"})}),Object(b.jsx)(f.a,{to:"/search",children:Object(b.jsx)("div",{style:Object(l.a)(Object(l.a)({},x.button),x.search),children:Object(b.jsx)("img",{style:Object(l.a)({},x.image),src:"/images/search-icon.svg"})})})]})}var x={container:(m={width:"100%",backgroundColor:"#fff",minHeight:"53px",display:"flex"},Object(s.a)(m,"backgroundColor","#D9D9D9"),Object(s.a)(m,"marginTop","auto"),m),button:{width:"48px",height:"48px",borderRadius:"12px",marginRight:"10px",display:"flex",backgroundColor:"white",marginTop:"8px",marginBottom:"8px"},project:{marginLeft:"10px"},add:{marginLeft:"auto"},search:{},image:{width:"26px",margin:"auto"}},g=n(21);function y(e){var t=e.firestore,n=Object(u.m)().projectId,c=a.a.useState({label:""}),o=Object(d.a)(c,2),i=o[0],r=o[1],s=a.a.useState([]),m=Object(d.a)(s,2),h=m[0],x=m[1],y=a.a.useState(""),N=Object(d.a)(y,2),S=N[0],k=N[1];function C(e,n){console.log("onItemRename",e,n),Object(g.m)(Object(g.f)(t,"lists",n.id),{label:e},{merge:!0})}return a.a.useEffect((function(){Object(g.i)(Object(g.f)(t,"projects",n)).then((function(e){e.exists()&&r(Object(l.a)(Object(l.a)({},e.data()),{},{id:n}))})).catch((function(e){return console.log("error",e)})),Object(g.k)(Object(g.l)(Object(g.c)(t,"lists"),Object(g.n)("projectId","==",n)),(function(e){x(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(b.jsx)(O,{label:i.label,firestore:t}),Object(b.jsx)("section",{name:"itemsListSection",style:j.card,children:Object(b.jsxs)("ul",{name:"itemsList",style:j.ul,children:[" ",h.map((function(e,n){return Object(b.jsxs)("li",{style:Object(l.a)(Object(l.a)({},j.li),{},{backgroundColor:"white"}),children:[Object(b.jsx)("span",{style:v.serialNumberIcon,children:n+1}),Object(b.jsx)("input",{name:"itemLabelTextbox",type:"text",onChange:function(e){var t=h.slice();t[n].label=e.target.value,x(t)},onKeyPress:function(t){"Enter"==t.key&&C(t.target.value,e)},onBlur:function(t){t.target.value!=e.label&&C(t.target.value,e)},value:e.label,style:v.input}),Object(b.jsx)("span",{style:v.deleteIcon,onClick:function(n){return function(e,n){Object(g.d)(Object(g.f)(t,"lists",n.id))}(0,e)},children:"-"}),Object(b.jsx)(f.a,{style:v.nextIcon,to:"/item/".concat(e.id),children:">"})]},e.id)}))]})}),Object(b.jsx)("section",{name:"newItem",style:j.card,children:Object(b.jsx)("input",{name:"newListItemTextBox",type:"text",placeholder:"Add an Item",autoFocus:!0,value:S,onKeyPress:function(e){var n;"Enter"===e.key&&(n={label:e.target.value},Object(g.b)(Object(g.c)(t,"lists"),Object(l.a)(Object(l.a)({},n),{},{projectId:i.id})).then((function(e){return console.log("success",e)})).catch((function(e){return console.log("error",e)})),k(""))},onChange:function(e){k(e.target.value)},style:v.input})}),Object(b.jsx)(p,{})]})}var v={input:{border:"none",marginLeft:"5px",outline:"none",fontSize:"16pt"},deleteIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"#ee4422",width:"20px"},"textAlign","center"),nextIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"lightblue",width:"20px"},"textAlign","center"),serialNumberIcon:{width:"20px",height:"20px",alignSelf:"center"}};function N(e){var t=e.firestore,n=a.a.useState([]),c=Object(d.a)(n,2),o=c[0],i=c[1],r=a.a.useState([]),s=Object(d.a)(r,2),u=s[0],m=s[1];return a.a.useEffect((function(){Object(g.k)(Object(g.l)(Object(g.c)(t,"projects")),(function(e){i(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))})),Object(g.k)(Object(g.l)(Object(g.c)(t,"lists")),(function(e){m(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(b.jsxs)("div",{style:S.container,children:[Object(b.jsx)(O,{label:"Super Notes",firestore:t}),Object(b.jsxs)("section",{style:j.card,children:[Object(b.jsx)("h2",{style:S.h2,children:"Recent Projects"}),Object(b.jsx)("ul",{children:o.map((function(e){return Object(b.jsxs)("li",{style:j.li,children:[Object(b.jsxs)("span",{children:[" ",e.label," "]}),Object(b.jsxs)(f.a,{style:S.arrow,to:"/project/".concat(e.id),children:[" ",">"," "]})]},e.id)}))})]}),Object(b.jsxs)("section",{style:j.card,children:[Object(b.jsx)("h2",{style:j.h2,children:"Recent Items"}),Object(b.jsx)("ul",{children:u.map((function(e){return Object(b.jsxs)("li",{style:j.li,children:[Object(b.jsxs)("span",{children:[" ",e.label," "]}),Object(b.jsxs)(f.a,{style:S.arrow,to:"/item/".concat(e.id),children:[" ",">"," "]})]},e.id)}))})]}),Object(b.jsx)(p,{})]})}var S={container:{display:"flex",flexDirection:"column",height:"100%",alignItems:"stretch"},arrow:{marginLeft:"auto",fontSize:"18px",fontWeight:900,textDecoration:"none",color:"black"}},k=n(300),C=n(298),E=n(296),w=n(303);function L(e){var t=e.isNotifySectionVisibleValue,n=e.notifySectionMessageValue,c=e.viewButtonLinkIntermediaryValue;return Object(b.jsxs)("section",{name:"NotifySection",style:Object(l.a)(Object(l.a)({},R.NotifySection),{},{display:t?"flex":"none"}),children:[Object(b.jsxs)("h4",{style:R.h4,children:[" ",n," "]}),Object(b.jsx)(f.a,{style:R.ViewButtonLink,name:"ViewButtonLink",to:c,children:Object(b.jsx)(w.a,{name:"ViewButton",variant:"contained",style:R.ViewButton,children:"VIEW ITEM"})})]})}var R={NotifySection:Object(l.a)(Object(l.a)({},j.card),{},{height:"40px",maxHeight:"40px",padding:"0px",paddingTop:"0px",display:"flex",flexDirection:"row",borderRadius:"6px"}),h4:{marginLeft:"8px",fontSize:"12px",fontFamily:"Proxima Nova Condensed",marginTop:"auto",marginBottom:"auto",alignSelf:"middle",fontWeight:900}},A=n(9),T=n(132),M=n(131),I=Object(M.a)({apiKey:"AIzaSyAZKiwwf6TbJJQdy--4LG2flJCpSAx7dZk",authDomain:"dream-factory-3bb67.firebaseapp.com",projectId:"dream-factory-3bb67",storageBucket:"dream-factory-3bb67.appspot.com",messagingSenderId:"242960121837",appId:"1:242960121837:web:f56c55f2b5019f96e8b1e4",measurementId:"G-BB7HEFVQZ8"}),D=Object(g.j)(I,{cacheSizeBytes:g.a,setLogLevel:"debug"});Object(g.g)(D).catch((function(e){"failed-precondition"==e.code||e.code})),Object(g.e)(D);var B,_=n(2),F=Object(_.a)().mark($);function $(e){var t,n,c;return Object(_.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e){var c,a,o,i,r,s,l,j,u,b;return Object(_.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=[]).push([e,[]]);case 2:if(!(c.length>0)){t.next=23;break}if(a=c.shift(),o=Object(d.a)(a,2),i=o[0],r=o[1],!n.has(i)){t.next=6;break}return t.abrupt("continue",2);case 6:n.add(i),s=0,l=Object.keys(i);case 8:if(!(s<l.length)){t.next=21;break}return j=l[s],u=i[j],b=r.concat([j]),t.next=14,[j,u,b,i];case 14:if(t.sent!==B.reject){t.next=17;break}return t.abrupt("continue",18);case 17:null!==u&&"object"===typeof u&&c.push([u,b]);case 18:s++,t.next=8;break;case 21:t.next=2;break;case 23:case"end":return t.stop()}}),t)},t=Object(_.a)().mark(c),n=new Set,a.delegateYield(c(e),"t0",4);case 4:case"end":return a.stop()}}),F)}!function(e){e.reject="reject"}(B||(B={}));var P=$,H=new T.a([],{includeScore:!0,includeMatches:!0,ignoreLocation:!0,ignoreFieldNorm:!0,keys:["label","content","id"]});Object(g.k)(Object(g.l)(Object(g.c)(D,"lists")),(function(e){e.docChanges().forEach((function(e){var t=e.doc.data(),n=e.doc.id;if(t.content){var c,a="",o=Object(A.a)(P(JSON.parse(t.content)));try{for(o.s();!(c=o.n()).done;){var i=Object(d.a)(c.value,2),r=i[0],s=i[1];"text"==r&&(a=a+" "+s)}}catch(j){o.e(j)}finally{o.f()}}"added"===e.type?H.add(Object(l.a)(Object(l.a)({},t),{},{content:a,id:n})):"modified"===e.type?(H.remove((function(e){return e.id==n})),H.add(Object(l.a)(Object(l.a)({},t),{},{content:a,id:n}))):"removed"===e.type&&H.remove((function(e){return e.id==n}))}))}));var V=H;function z(e){var t=e.fuseSearchResults;return Object(b.jsxs)("ul",{children:[" ",t.map((function(e){var t=e.matches[0].indices.sort((function(e,t){return t[1]-t[0]-(e[1]-e[0])}))[0],n=e.matches[0].value;return Object(b.jsx)(f.a,{style:K.searchResultLink,to:"/item/".concat(e.item.id),children:Object(b.jsxs)("li",{style:K.searchResult,children:[Object(b.jsxs)("h3",{style:K.h3,children:[" ",e.item.label," "]}),Object(b.jsx)("span",{style:K.emphasis,children:n.substr(t[0],t[1]+1)}),n.substr(t[1]+1,n.length)]})})}))]})}var W,K={searchResultLink:{textDecoration:"none",color:"inherit"},searchResult:{fontFamily:"sans-serif",whiteSpace:"nowrap",fontWeight:400,fontSize:13,margin:5,height:"auto",padding:5,overflow:"hidden",textOverflow:"ellipsis",display:"block"},emphasis:{backgroundColor:"yellow",color:"red"}},G=n(143),J=n(299);function U(e){var t=e.firestore,n=e.fuseInstance,c=a.a.useState([]),o=Object(d.a)(c,2),i=o[0],r=o[1],s=a.a.useState(""),u=Object(d.a)(s,2),m=u[0],h=u[1],f=a.a.useState(""),x=Object(d.a)(f,2),y=x[0],v=x[1],N=a.a.useState(""),S=Object(d.a)(N,2),R=S[0],A=S[1],T=a.a.useState("ADDED AS ITEM TO"),M=Object(d.a)(T,2),I=M[0],D=M[1],B=a.a.useState(!1),_=Object(d.a)(B,2),F=_[0],$=_[1],P=a.a.useState([]),H=Object(d.a)(P,2),V=H[0],W=H[1],K=a.a.useRef(null);return a.a.useEffect((function(){Object(g.k)(Object(g.l)(Object(g.c)(t,"projects")),(function(e){r(e.docs.map((function(e){return e.data().isInbox&&v(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.data})),Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(b.jsxs)("div",{style:q.container,children:[Object(b.jsx)(O,{label:"Search / Add",firestore:t}),Object(b.jsx)("section",{name:"SearchResultsSection",style:q.SearchResultsSection,children:Object(b.jsx)(z,{fuseSearchResults:V})}),Object(b.jsxs)("section",{name:"SearchBoxSection",style:Object(l.a)({},j.card),children:[Object(b.jsxs)("section",{name:"RadioButtonsSection",style:q.RadioButtonsSection,children:[Object(b.jsx)(k.a,{value:"top",control:Object(b.jsx)(C.a,{}),label:"Add as Item to Project",labelPlacement:"end",name:"addOptionRadio"}),Object(b.jsx)(k.a,{value:"top",control:Object(b.jsx)(C.a,{}),label:"Add as Content to Item",labelPlacement:"start",name:"addOptionRadio"})]}),Object(b.jsx)("section",{name:"AutocompletesSection",style:q.AutocompletesSection,children:Object(b.jsx)(G.a,{options:i,blurInputOnSelect:!0,openMenuOnFocus:!0,onChange:function(e){return v(e)},value:y,styles:{control:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{width:"200px"})}}})}),Object(b.jsxs)("section",{name:"SearchTextboxSection",style:q.SearchTextboxSection,children:[Object(b.jsx)(E.a,{name:"SearchTextbox",placeholder:"Search or Add Item",autoFocus:!0,style:q.searchTextbox,multiline:!0,type:"text",value:m,onChange:function(e){h(e.target.value),W(n.search(e.target.value))},ref:K}),Object(b.jsxs)("section",{name:"buttonsSection",style:q.buttonsSection,children:[Object(b.jsx)(w.a,{name:"addButton",variant:"contained",style:q.addButoon,onClick:function(e){e.preventDefault(),console.log("projectsAutocompleteIntermediaryValue",y);var n=Object(J.a)();Object(g.m)(Object(g.f)(t,"lists",n),{label:m,projectId:y.id}).catch((function(e){return console.log("error",e)})),A("/item/".concat(n)),$(!0),D("ADDED AS ITEM TO ".concat(y.label)),h(""),K.current.focus()},children:"ADD"}),Object(b.jsx)(w.a,{name:"clearButton",variant:"contained",style:q.clearButton,onClick:function(e){h(""),K.current.focus()},children:"CLEAR"})]})]})]}),Object(b.jsx)(L,{isNotifySectionVisibleValue:F,notifySectionMessageValue:I,viewButtonLinkIntermediaryValue:R}),Object(b.jsx)(p,{})]})}var q={container:{height:"100%",display:"flex",flexDirection:"column"},SearchResultsSection:Object(l.a)(Object(l.a)({},j.card),{},{flex:100}),AutocompletesSection:{display:"flex",padding:8},ProjectAutocomplete:{flex:1,backgroundColor:"white",marginRight:1},ItemAutocomplete:{flex:2},RadioButtonsSection:(W={display:"flex",padding:8,fontWeight:"black",justifyContent:"space-between"},Object(s.a)(W,"fontWeight",900),Object(s.a)(W,"fontSize","14px"),W),SearchTextboxSection:{display:"flex",flexDirection:"row",margin:4,padding:4,flexWrap:"wrap",width:"100%"},searchTextbox:{flex:1,marginRight:8},buttonsSection:{display:"flex",flexDirection:"column",width:64,marginRight:16},clearButton:{height:40,width:64,margin:4},addButoon:{fontWeight:900,height:40,width:64,margin:4},ViewButton:{height:"100%",boxShadow:"none",backgroundColor:"transparent",fontWeight:900,width:64,lineHeight:"14px"},ViewButtonLink:{textDecoration:"none",marginLeft:"auto",marginRight:"8px"}},Q=n(133),X=n(134),Z=n(135),Y=n(136),ee=n(137),te=n(41),ne=n(24),ce=n(47),ae=n(50),oe=n(42),ie=n(46),re=n(36),se=n(54),le=n(55),de=new Set(["paragraph","quote","code","h1","h2","ul","ol"]),je={code:"Code Block",h1:"Large Heading",h2:"Small Heading",h3:"Heading",h4:"Heading",h5:"Heading",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"};function ue(){return Object(b.jsx)("div",{className:"divider"})}function be(e,t){null===t?(e.style.opacity="0",e.style.top="-1000px",e.style.left="-1000px"):(e.style.opacity="1",e.style.top="".concat(t.top+t.height+window.pageYOffset+10,"px"),e.style.left="".concat(t.left+window.pageXOffset-e.offsetWidth/2+t.width/2,"px"))}function Oe(e){var t=e.editor,n=Object(c.useRef)(null),a=Object(c.useRef)(null),o=Object(c.useRef)(!1),i=Object(c.useState)(""),r=Object(d.a)(i,2),s=r[0],l=r[1],j=Object(c.useState)(!1),u=Object(d.a)(j,2),O=u[0],m=u[1],h=Object(c.useState)(null),f=Object(d.a)(h,2),p=f[0],x=f[1],g=Object(c.useCallback)((function(){var e=Object(ne.$getSelection)();if(Object(ne.$isRangeSelection)(e)){var c=he(e),a=c.getParent();Object(ce.$isLinkNode)(a)?l(a.getURL()):Object(ce.$isLinkNode)(c)?l(c.getURL()):l("")}var i=n.current,r=window.getSelection(),s=document.activeElement;if(null!==i){var d=t.getRootElement();if(null!==e&&!r.isCollapsed&&null!==d&&d.contains(r.anchorNode)){var j,u=r.getRangeAt(0);if(r.anchorNode===d){for(var b=d;null!=b.firstElementChild;)b=b.firstElementChild;j=b.getBoundingClientRect()}else j=u.getBoundingClientRect();o.current||be(i,j),x(e)}else s&&"link-input"===s.className||(be(i,null),x(null),m(!1),l(""));return!0}}),[t]);return Object(c.useEffect)((function(){return Object(oe.mergeRegister)(t.registerUpdateListener((function(e){e.editorState.read((function(){g()}))})),t.registerCommand(ne.SELECTION_CHANGE_COMMAND,(function(){return g(),!0}),1))}),[t,g]),Object(c.useEffect)((function(){t.getEditorState().read((function(){g()}))}),[t,g]),Object(c.useEffect)((function(){O&&a.current&&a.current.focus()}),[O]),Object(b.jsx)("div",{ref:n,className:"link-editor",children:O?Object(b.jsx)("input",{ref:a,className:"link-input",value:s,onChange:function(e){l(e.target.value)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),null!==p&&(""!==s&&t.dispatchCommand(ce.TOGGLE_LINK_COMMAND,s),m(!1))):"Escape"===e.key&&(e.preventDefault(),m(!1))}}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"link-input",children:[Object(b.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:s}),Object(b.jsx)("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:function(e){return e.preventDefault()},onClick:function(){m(!0)}})]})})})}function me(e){var t=e.onChange,n=e.className,c=e.options,a=e.value;return Object(b.jsxs)("select",{className:n,onChange:t,value:a,children:[Object(b.jsx)("option",{hidden:!0,value:""}),c.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})}function he(e){var t=e.anchor,n=e.focus,c=e.anchor.getNode(),a=e.focus.getNode();return c===a?c:e.isBackward()?Object(ae.$isAtNodeEnd)(n)?c:a:Object(ae.$isAtNodeEnd)(t)?a:c}function fe(e){var t=e.editor,n=e.blockType,a=e.toolbarRef,o=e.setShowBlockOptionsDropDown,i=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=a.current,t=i.current;if(null!==e&&null!==t){var n=e.getBoundingClientRect(),c=n.top,o=n.left;t.style.top="".concat(c+40,"px"),t.style.left="".concat(o,"px")}}),[i,a]),Object(c.useEffect)((function(){var e=i.current,t=a.current;if(null!==e&&null!==t){var n=function(n){var c=n.target;e.contains(c)||t.contains(c)||o(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}}),[i,o,a]);return Object(b.jsxs)("div",{className:"dropdown",ref:i,children:[Object(b.jsxs)("button",{className:"item",onClick:function(){"paragraph"!==n&&t.update((function(){var e=Object(ne.$getSelection)();Object(ne.$isRangeSelection)(e)&&Object(ae.$wrapLeafNodesInElements)(e,(function(){return Object(ne.$createParagraphNode)()}))})),o(!1)},children:[Object(b.jsx)("span",{className:"icon paragraph"}),Object(b.jsx)("span",{className:"text",children:"Normal"}),"paragraph"===n&&Object(b.jsx)("span",{className:"active"})]}),Object(b.jsxs)("button",{className:"item",onClick:function(){"h1"!==n&&t.update((function(){var e=Object(ne.$getSelection)();Object(ne.$isRangeSelection)(e)&&Object(ae.$wrapLeafNodesInElements)(e,(function(){return Object(se.$createHeadingNode)("h1")}))})),o(!1)},children:[Object(b.jsx)("span",{className:"icon large-heading"}),Object(b.jsx)("span",{className:"text",children:"Large Heading"}),"h1"===n&&Object(b.jsx)("span",{className:"active"})]}),Object(b.jsxs)("button",{className:"item",onClick:function(){"h2"!==n&&t.update((function(){var e=Object(ne.$getSelection)();Object(ne.$isRangeSelection)(e)&&Object(ae.$wrapLeafNodesInElements)(e,(function(){return Object(se.$createHeadingNode)("h2")}))})),o(!1)},children:[Object(b.jsx)("span",{className:"icon small-heading"}),Object(b.jsx)("span",{className:"text",children:"Small Heading"}),"h2"===n&&Object(b.jsx)("span",{className:"active"})]}),Object(b.jsxs)("button",{className:"item",onClick:function(){"ul"!==n?t.dispatchCommand(ie.INSERT_UNORDERED_LIST_COMMAND):t.dispatchCommand(ie.REMOVE_LIST_COMMAND),o(!1)},children:[Object(b.jsx)("span",{className:"icon bullet-list"}),Object(b.jsx)("span",{className:"text",children:"Bullet List"}),"ul"===n&&Object(b.jsx)("span",{className:"active"})]}),Object(b.jsxs)("button",{className:"item",onClick:function(){"ol"!==n?t.dispatchCommand(ie.INSERT_ORDERED_LIST_COMMAND):t.dispatchCommand(ie.REMOVE_LIST_COMMAND),o(!1)},children:[Object(b.jsx)("span",{className:"icon numbered-list"}),Object(b.jsx)("span",{className:"text",children:"Numbered List"}),"ol"===n&&Object(b.jsx)("span",{className:"active"})]}),Object(b.jsxs)("button",{className:"item",onClick:function(){"quote"!==n&&t.update((function(){var e=Object(ne.$getSelection)();Object(ne.$isRangeSelection)(e)&&Object(ae.$wrapLeafNodesInElements)(e,(function(){return Object(se.$createQuoteNode)()}))})),o(!1)},children:[Object(b.jsx)("span",{className:"icon quote"}),Object(b.jsx)("span",{className:"text",children:"Quote"}),"quote"===n&&Object(b.jsx)("span",{className:"active"})]}),Object(b.jsxs)("button",{className:"item",onClick:function(){"code"!==n&&t.update((function(){var e=Object(ne.$getSelection)();Object(ne.$isRangeSelection)(e)&&Object(ae.$wrapLeafNodesInElements)(e,(function(){return Object(le.$createCodeNode)()}))})),o(!1)},children:[Object(b.jsx)("span",{className:"icon code"}),Object(b.jsx)("span",{className:"text",children:"Code Block"}),"code"===n&&Object(b.jsx)("span",{className:"active"})]})]})}function pe(){var e=Object(te.useLexicalComposerContext)(),t=Object(d.a)(e,1)[0],n=Object(c.useRef)(null),a=Object(c.useState)(!1),o=Object(d.a)(a,2),i=o[0],r=o[1],s=Object(c.useState)(!1),l=Object(d.a)(s,2),j=l[0],u=l[1],O=Object(c.useState)("paragraph"),m=Object(d.a)(O,2),h=m[0],f=m[1],p=Object(c.useState)(null),x=Object(d.a)(p,2),g=x[0],y=x[1],v=Object(c.useState)(!1),N=Object(d.a)(v,2),S=N[0],k=N[1],C=Object(c.useState)(""),E=Object(d.a)(C,2),w=E[0],L=E[1],R=Object(c.useState)(!1),A=Object(d.a)(R,2),T=(A[0],A[1]),M=Object(c.useState)(!1),I=Object(d.a)(M,2),D=I[0],B=I[1],_=Object(c.useState)(!1),F=Object(d.a)(_,2),$=F[0],P=F[1],H=Object(c.useState)(!1),V=Object(d.a)(H,2),z=V[0],W=V[1],K=Object(c.useState)(!1),G=Object(d.a)(K,2),J=G[0],U=G[1],q=Object(c.useState)(!1),Q=Object(d.a)(q,2),X=Q[0],Z=Q[1],Y=Object(c.useState)(!1),ee=Object(d.a)(Y,2),be=ee[0],pe=ee[1],xe=Object(c.useCallback)((function(){var e=Object(ne.$getSelection)();if(Object(ne.$isRangeSelection)(e)){var n=e.anchor.getNode(),c="root"===n.getKey()?n:n.getTopLevelElementOrThrow(),a=c.getKey();if(null!==t.getElementByKey(a))if(y(a),Object(ie.$isListNode)(c)){var o=Object(oe.$getNearestNodeOfType)(n,ie.ListNode),i=o?o.getTag():c.getTag();f(i)}else{var r=Object(se.$isHeadingNode)(c)?c.getTag():c.getType();f(r),Object(le.$isCodeNode)(c)&&L(c.getLanguage()||Object(le.getDefaultCodeLanguage)())}P(e.hasFormat("bold")),W(e.hasFormat("italic")),U(e.hasFormat("underline")),Z(e.hasFormat("strikethrough")),pe(e.hasFormat("code")),T(Object(ae.$isParentElementRTL)(e));var s=he(e),l=s.getParent();Object(ce.$isLinkNode)(l)||Object(ce.$isLinkNode)(s)?B(!0):B(!1)}}),[t]);Object(c.useEffect)((function(){return Object(oe.mergeRegister)(t.registerUpdateListener((function(e){e.editorState.read((function(){xe()}))})),t.registerCommand(ne.SELECTION_CHANGE_COMMAND,(function(e,t){return xe(),!1}),1),t.registerCommand(ne.CAN_UNDO_COMMAND,(function(e){return r(e),!1}),1),t.registerCommand(ne.CAN_REDO_COMMAND,(function(e){return u(e),!1}),1))}),[t,xe]);var ge=Object(c.useMemo)((function(){return Object(le.getCodeLanguages)()}),[]),ye=Object(c.useCallback)((function(e){t.update((function(){if(null!==g){var t=Object(ne.$getNodeByKey)(g);Object(le.$isCodeNode)(t)&&t.setLanguage(e.target.value)}}))}),[t,g]),ve=Object(c.useCallback)((function(){D?t.dispatchCommand(ce.TOGGLE_LINK_COMMAND,null):t.dispatchCommand(ce.TOGGLE_LINK_COMMAND,"https://")}),[t,D]);return Object(b.jsxs)("div",{className:"toolbar",ref:n,children:[Object(b.jsx)("button",{disabled:!i,onClick:function(){t.dispatchCommand(ne.UNDO_COMMAND)},className:"toolbar-item spaced","aria-label":"Undo",children:Object(b.jsx)("i",{className:"format undo"})}),Object(b.jsx)("button",{disabled:!j,onClick:function(){t.dispatchCommand(ne.REDO_COMMAND)},className:"toolbar-item","aria-label":"Redo",children:Object(b.jsx)("i",{className:"format redo"})}),Object(b.jsx)(ue,{}),de.has(h)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{className:"toolbar-item block-controls",onClick:function(){return k(!S)},"aria-label":"Formatting Options",children:[Object(b.jsx)("span",{className:"icon block-type "+h}),Object(b.jsx)("span",{className:"text",children:je[h]}),Object(b.jsx)("i",{className:"chevron-down"})]}),S&&Object(re.createPortal)(Object(b.jsx)(fe,{editor:t,blockType:h,toolbarRef:n,setShowBlockOptionsDropDown:k}),document.body),Object(b.jsx)(ue,{})]}),"code"===h?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(me,{className:"toolbar-item code-language",onChange:ye,options:ge,value:w}),Object(b.jsx)("i",{className:"chevron-down inside"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+($?"active":""),"aria-label":"Format Bold",children:Object(b.jsx)("i",{className:"format bold"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(z?"active":""),"aria-label":"Format Italics",children:Object(b.jsx)("i",{className:"format italic"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(J?"active":""),"aria-label":"Format Underline",children:Object(b.jsx)("i",{className:"format underline"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"strikethrough")},className:"toolbar-item spaced "+(X?"active":""),"aria-label":"Format Strikethrough",children:Object(b.jsx)("i",{className:"format strikethrough"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(be?"active":""),"aria-label":"Insert Code",children:Object(b.jsx)("i",{className:"format code"})}),Object(b.jsx)("button",{onClick:ve,className:"toolbar-item spaced "+(D?"active":""),"aria-label":"Insert Link",children:Object(b.jsx)("i",{className:"format link"})}),D&&Object(re.createPortal)(Object(b.jsx)(Oe,{editor:t}),document.body),Object(b.jsx)(ue,{}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_ELEMENT_COMMAND,"left")},className:"toolbar-item spaced","aria-label":"Left Align",children:Object(b.jsx)("i",{className:"format left-align"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_ELEMENT_COMMAND,"center")},className:"toolbar-item spaced","aria-label":"Center Align",children:Object(b.jsx)("i",{className:"format center-align"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_ELEMENT_COMMAND,"right")},className:"toolbar-item spaced","aria-label":"Right Align",children:Object(b.jsx)("i",{className:"format right-align"})}),Object(b.jsx)("button",{onClick:function(){t.dispatchCommand(ne.FORMAT_ELEMENT_COMMAND,"justify")},className:"toolbar-item","aria-label":"Justify Align",children:Object(b.jsx)("i",{className:"format justify-align"})})," "]})]})}var xe=n(100),ge=n(138),ye=n(139),ve=n(140),Ne=n(141),Se=n(107);n(247);function ke(e){var t=e.initialEditorState,n=e.onEditorStateChange,c=e.cutomEditorState,a={theme:Ee,onError:function(e){throw e},editorState:t,nodes:[se.HeadingNode,ie.ListNode,ie.ListItemNode,se.QuoteNode,le.CodeNode,le.CodeHighlightNode,xe.TableNode,xe.TableCellNode,xe.TableRowNode,ce.AutoLinkNode,ce.LinkNode]};return Object(b.jsx)(Q.LexicalComposer,{initialConfig:a,children:Object(b.jsxs)("div",{className:"editor-container",children:[Object(b.jsxs)("div",{className:"editor-inner",children:[Object(b.jsx)(X.RichTextPlugin,{contentEditable:Object(b.jsx)(Z.ContentEditable,{className:"editor-input"}),placeholder:Object(b.jsx)(we,{})}),Object(b.jsx)(Y.HistoryPlugin,{}),Object(b.jsx)(Ne.OnChangePlugin,{ignoreSelectionChange:!0,ignoreI:!0,onChange:function(e){return n?n(e):0}}),Object(b.jsx)(ee.AutoFocusPlugin,{}),Object(b.jsx)(ye.ListPlugin,{}),Object(b.jsx)(ge.LinkPlugin,{}),Object(b.jsx)(ve.MarkdownShortcutPlugin,{transformers:Se.TRANSFORMERS}),Object(b.jsx)(Ce,{customEditorState:c})]}),Object(b.jsx)(pe,{})]})})}function Ce(e){var t=e.customEditorState,n=Object(te.useLexicalComposerContext)(),c=Object(d.a)(n,1)[0];return a.a.useEffect((function(){var e=c.parseEditorState(t);c.setEditorState(e),c.focus()}),[c,t]),null}var Ee={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function we(){return Object(b.jsx)("div",{className:"editor-placeholder",children:"Enter some rich text..."})}var Le=n(142),Re=n.n(Le);function Ae(e){var t=e.firestore,n=Object(u.m)().itemId,c=a.a.useState({}),o=Object(d.a)(c,2),i=o[0],r=o[1],s=a.a.useState('{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'),j=Object(d.a)(s,2),m=j[0],h=j[1],f=a.a.useCallback(Re()((function(e,n){console.log("Save Called!"),Object(g.m)(Object(g.f)(t,"lists",n.id),{content:e},{merge:!0})}),2e3),[]);return a.a.useEffect((function(){i.id||Object(g.i)(Object(g.f)(t,"lists",n)).then((function(e){e.exists()&&(r(Object(l.a)(Object(l.a)({},e.data()),{},{id:n})),e.data().content&&h(e.data().content))})).catch((function(e){return console.log("error",e)}))}),[]),Object(b.jsxs)("div",{style:Te.container,children:[Object(b.jsx)(O,{label:i.label,firestore:t}),Object(b.jsx)(ke,{initialEditorState:m,cutomEditorState:m,onEditorStateChange:function(e){r(Object(l.a)(Object(l.a)({},i),{},{content:JSON.stringify(e)})),f(JSON.stringify(e),i)}}),Object(b.jsx)(p,{})]})}var Te={container:{height:"100%",display:"flex",flexDirection:"column"}};function Me(e){var t=e.firestore,n=a.a.useState([]),c=Object(d.a)(n,2),o=c[0],i=c[1],r=a.a.useState(""),s=Object(d.a)(r,2),u=s[0],m=s[1];function h(e,n){Object(g.m)(Object(g.f)(t,"projects",n),{label:e},{merge:!0})}return a.a.useEffect((function(){Object(g.k)(Object(g.l)(Object(g.c)(t,"projects")),(function(e){i(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(b.jsx)(O,{label:"Projects",firestore:t}),Object(b.jsx)("section",{name:"projectsListSection",style:j.card,children:Object(b.jsxs)("ul",{name:"projectsList",style:j.ul,children:[" ",o.map((function(e,n){return Object(b.jsxs)("li",{style:Object(l.a)(Object(l.a)({},j.li),{},{backgroundColor:"white"}),children:[Object(b.jsx)("span",{style:Ie.serialNumberIcon,children:n+1}),Object(b.jsx)("input",{name:"projectLabelTextbox",type:"text",onChange:function(e){var t=o.slice();t[n].label=e.target.value,i(t)},onKeyPress:function(t){"Enter"==t.key&&h(t.target.value,e.id)},onBlur:function(t){t.target.value!=e.label&&h(t.target.value,e.id)},value:e.label,style:Ie.input}),Object(b.jsx)("span",{style:Ie.deleteIcon,onClick:function(n){return c=e.id,void Object(g.d)(Object(g.f)(t,"projects",c));var c},children:"-"}),Object(b.jsx)(f.a,{style:Ie.nextIcon,to:"/project/".concat(e.id),children:">"})]},e.id)}))]})}),Object(b.jsx)("section",{name:"newProject",style:j.card,children:Object(b.jsx)("input",{name:"newProjectTextBox",type:"text",placeholder:"Add a Project",autoFocus:!0,value:u,onKeyPress:function(e){var n;"Enter"===e.key&&(n=e.target.value,Object(g.b)(Object(g.c)(t,"projects"),{label:n}).then((function(e){return console.log("success",e)})).catch((function(e){return console.log("error",e)})),m(""))},onChange:function(e){m(e.target.value)},style:Ie.input})}),Object(b.jsx)(p,{})]})}var Ie={input:{border:"none",marginLeft:"5px",outline:"none",fontSize:"16pt"},deleteIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"#ee4422",width:"20px"},"textAlign","center"),nextIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"lightblue",width:"20px"},"textAlign","center"),serialNumberIcon:{width:"20px",height:"20px",alignSelf:"center"}};function De(){console.log("Syncing"),Object(g.h)(D),setTimeout((function(){Object(g.e)(D)}),5e3)}De(),setInterval(De,1e4);var Be=Object(i.a)({palette:{primary:{main:"#FFCA28"}},shape:{borderRadius:6},typography:{fontFamily:["Proxima Nova Condensed","Roboto Condensed","sans-serif"].join(","),fontSize:12}});Be.spacing(1);var _e=document.getElementById("root"),Fe=Object(o.createRoot)(_e),$e=Object(f.b)([{path:"/",element:Object(b.jsx)(N,{firestore:D}),errorElement:Object(b.jsx)(N,{firestore:D})},{path:"/projects",element:Object(b.jsx)(Me,{firestore:D})},{path:"/search",element:Object(b.jsx)(U,{firestore:D,fuseInstance:V})},{path:"/project/:projectId",element:Object(b.jsx)(y,{firestore:D})},{path:"/item/:itemId",element:Object(b.jsx)(Ae,{firestore:D})}]);Fe.render(Object(b.jsx)(c.StrictMode,{children:Object(b.jsx)(r.a,{theme:Be,children:Object(b.jsx)(u.b,{router:$e})})}))},79:function(e,t,n){}},[[258,1,2]]]);
//# sourceMappingURL=main.cf897f12.chunk.js.map