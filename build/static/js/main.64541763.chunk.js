(this["webpackJsonpdream-factory"]=this["webpackJsonpdream-factory"]||[]).push([[0],{247:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(124),o=n(144),r=n(302),s=n(6),l=n(10),d=n(8),j=(n(79),{h1:{},h2:{fontSize:"24px",overflow:"hidden",minHeight:"40px"},card:{borderRadius:"6px",backgroundColor:"white",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.25), 0px 1px 3px 1px rgba(0, 0, 0, 0.25)",flex:"1 1 auto",overflow:"auto",minHeight:0,margin:"8px"},ul:{listStyleType:"none"},li:{display:"flex",borderTop:"1px solid #D9D9D9",padding:"10px",width:"100%"},h3:{}}),b=n(18),u=n.p+"static/media/sync-icon.5bae7c75.svg",O=n(1);function m(e){var t=e.label,n=(e.firestore,e.isSyncing),c=e.onSyncButtonClick,a=Object(b.k)();return Object(O.jsxs)("div",{style:h.container,children:[Object(O.jsxs)("div",{style:h.header,children:[Object(O.jsx)("span",{style:{marginRight:"20px"},onClick:function(e){return a(-1)},children:"<"}),Object(O.jsx)("span",{children:t})]}),Object(O.jsx)("img",{src:u,alt:"Sync Icon",style:Object(l.a)({animation:n?"animName 1.75s ease infinite":""},h.syncButton),onClick:c})]})}var f,h={container:{width:"100%",backgroundColor:"#fff",minHeight:"53px",display:"flex",borderBottom:"1px solid #eee"},header:{color:"#000",paddingLeft:"30px",fontSize:"24px",fontWeight:900,alignSelf:"center"},syncButton:{alignSelf:"center",marginLeft:"auto",marginRight:"20px",cursor:"pointer",width:40}},p=n(34),g=n.p+"static/media/project-icon.53d0f8da.svg",x=n.p+"static/media/add-icon.8eb448d4.svg",v=n.p+"static/media/search-icon.8fe0086d.svg";function y(e){e.label,e.firestore;return Object(O.jsxs)("div",{style:N.container,children:[Object(O.jsx)(p.a,{to:"/projects",children:Object(O.jsx)("div",{style:Object(l.a)(Object(l.a)({},N.button),N.project),children:Object(O.jsx)("img",{style:Object(l.a)({},N.image),src:g})})}),Object(O.jsx)("div",{style:Object(l.a)(Object(l.a)({},N.button),N.add),children:Object(O.jsx)("img",{style:Object(l.a)({},N.image),src:x})}),Object(O.jsx)(p.a,{to:"/search",children:Object(O.jsx)("div",{style:Object(l.a)(Object(l.a)({},N.button),N.search),children:Object(O.jsx)("img",{style:Object(l.a)({},N.image),src:v})})})]})}var N={container:(f={width:"100%",backgroundColor:"#fff",minHeight:"53px",display:"flex"},Object(s.a)(f,"backgroundColor","#D9D9D9"),Object(s.a)(f,"marginTop","auto"),f),button:{width:"48px",height:"48px",borderRadius:"12px",marginRight:"10px",display:"flex",backgroundColor:"white",marginTop:"8px",marginBottom:"8px"},project:{marginLeft:"10px"},add:{marginLeft:"auto"},search:{},image:{width:"26px",margin:"auto"}},S=n(21);function k(e){var t=e.firestore,n=Object(b.m)().projectId,c=a.a.useState({label:""}),i=Object(d.a)(c,2),o=i[0],r=i[1],s=a.a.useState([]),u=Object(d.a)(s,2),f=u[0],h=u[1],g=a.a.useState(""),x=Object(d.a)(g,2),v=x[0],N=x[1];function k(e,n){console.log("onItemRename",e,n),Object(S.m)(Object(S.f)(t,"lists",n.id),{label:e},{merge:!0})}return a.a.useEffect((function(){Object(S.i)(Object(S.f)(t,"projects",n)).then((function(e){e.exists()&&r(Object(l.a)(Object(l.a)({},e.data()),{},{id:n}))})).catch((function(e){return console.log("error",e)})),Object(S.k)(Object(S.l)(Object(S.c)(t,"lists"),Object(S.n)("projectId","==",n)),(function(e){h(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(O.jsx)(m,{label:o.label,firestore:t}),Object(O.jsx)("section",{name:"itemsListSection",style:j.card,children:Object(O.jsxs)("ul",{name:"itemsList",style:j.ul,children:[" ",f.map((function(e,n){return Object(O.jsxs)("li",{style:Object(l.a)(Object(l.a)({},j.li),{},{backgroundColor:"white"}),children:[Object(O.jsx)("span",{style:C.serialNumberIcon,children:n+1}),Object(O.jsx)("input",{name:"itemLabelTextbox",type:"text",onChange:function(e){var t=f.slice();t[n].label=e.target.value,h(t)},onKeyPress:function(t){"Enter"==t.key&&k(t.target.value,e)},onBlur:function(t){t.target.value!=e.label&&k(t.target.value,e)},value:e.label,style:C.input}),Object(O.jsx)("span",{style:C.deleteIcon,onClick:function(n){return function(e,n){Object(S.d)(Object(S.f)(t,"lists",n.id))}(0,e)},children:"-"}),Object(O.jsx)(p.a,{style:C.nextIcon,to:"/item/".concat(e.id),children:">"})]},e.id)}))]})}),Object(O.jsx)("section",{name:"newItem",style:j.card,children:Object(O.jsx)("input",{name:"newListItemTextBox",type:"text",placeholder:"Add an Item",autoFocus:!0,value:v,onKeyPress:function(e){var n;"Enter"===e.key&&(n={label:e.target.value},Object(S.b)(Object(S.c)(t,"lists"),Object(l.a)(Object(l.a)({},n),{},{projectId:o.id})).then((function(e){return console.log("success",e)})).catch((function(e){return console.log("error",e)})),N(""))},onChange:function(e){N(e.target.value)},style:C.input})}),Object(O.jsx)(y,{})]})}var C={input:{border:"none",marginLeft:"5px",outline:"none",fontSize:"16pt"},deleteIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"#ee4422",width:"20px"},"textAlign","center"),nextIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"lightblue",width:"20px"},"textAlign","center"),serialNumberIcon:{width:"20px",height:"20px",alignSelf:"center"}};function E(e){var t=e.firestore,n=a.a.useState([]),c=Object(d.a)(n,2),i=c[0],o=c[1],r=a.a.useState([]),s=Object(d.a)(r,2),b=s[0],u=s[1];return a.a.useEffect((function(){Object(S.k)(Object(S.l)(Object(S.c)(t,"projects")),(function(e){o(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))})),Object(S.k)(Object(S.l)(Object(S.c)(t,"lists")),(function(e){u(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(O.jsxs)("div",{style:w.container,children:[Object(O.jsx)(m,{label:"Super Notes",firestore:t}),Object(O.jsxs)("section",{style:j.card,children:[Object(O.jsx)("h2",{style:w.h2,children:"Recent Projects"}),Object(O.jsx)("ul",{children:i.map((function(e){return Object(O.jsxs)("li",{style:j.li,children:[Object(O.jsxs)("span",{children:[" ",e.label," "]}),Object(O.jsxs)(p.a,{style:w.arrow,to:"/project/".concat(e.id),children:[" ",">"," "]})]},e.id)}))})]}),Object(O.jsxs)("section",{style:j.card,children:[Object(O.jsx)("h2",{style:j.h2,children:"Recent Items"}),Object(O.jsx)("ul",{children:b.map((function(e){return Object(O.jsxs)("li",{style:j.li,children:[Object(O.jsxs)("span",{children:[" ",e.label," "]}),Object(O.jsxs)(p.a,{style:w.arrow,to:"/item/".concat(e.id),children:[" ",">"," "]})]},e.id)}))})]}),Object(O.jsx)(y,{})]})}var w={container:{display:"flex",flexDirection:"column",height:"100%",alignItems:"stretch"},arrow:{marginLeft:"auto",fontSize:"18px",fontWeight:900,textDecoration:"none",color:"black"}},L=n(300),R=n(298),A=n(296),T=n(303);function M(e){var t=e.isNotifySectionVisibleValue,n=e.notifySectionMessageValue,c=e.viewButtonLinkIntermediaryValue;return Object(O.jsxs)("section",{name:"NotifySection",style:Object(l.a)(Object(l.a)({},I.NotifySection),{},{display:t?"flex":"none"}),children:[Object(O.jsxs)("h4",{style:I.h4,children:[" ",n," "]}),Object(O.jsx)(p.a,{style:I.ViewButtonLink,name:"ViewButtonLink",to:c,children:Object(O.jsx)(T.a,{name:"ViewButton",variant:"contained",style:I.ViewButton,children:"VIEW ITEM"})})]})}var I={NotifySection:Object(l.a)(Object(l.a)({},j.card),{},{height:"40px",maxHeight:"40px",padding:"0px",paddingTop:"0px",display:"flex",flexDirection:"row",borderRadius:"6px"}),h4:{marginLeft:"8px",fontSize:"12px",fontFamily:"Proxima Nova Condensed",marginTop:"auto",marginBottom:"auto",alignSelf:"middle",fontWeight:900}},D=n(9),B=n(132),_=n(131),F=Object(_.a)({apiKey:"AIzaSyAZKiwwf6TbJJQdy--4LG2flJCpSAx7dZk",authDomain:"dream-factory-3bb67.firebaseapp.com",projectId:"dream-factory-3bb67",storageBucket:"dream-factory-3bb67.appspot.com",messagingSenderId:"242960121837",appId:"1:242960121837:web:f56c55f2b5019f96e8b1e4",measurementId:"G-BB7HEFVQZ8"}),$=Object(S.j)(F,{cacheSizeBytes:S.a,setLogLevel:"debug"});Object(S.g)($).catch((function(e){"failed-precondition"==e.code||e.code})),Object(S.e)($);var P,H=n(2),V=Object(H.a)().mark(z);function z(e){var t,n,c;return Object(H.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e){var c,a,i,o,r,s,l,j,b,u;return Object(H.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=[]).push([e,[]]);case 2:if(!(c.length>0)){t.next=23;break}if(a=c.shift(),i=Object(d.a)(a,2),o=i[0],r=i[1],!n.has(o)){t.next=6;break}return t.abrupt("continue",2);case 6:n.add(o),s=0,l=Object.keys(o);case 8:if(!(s<l.length)){t.next=21;break}return j=l[s],b=o[j],u=r.concat([j]),t.next=14,[j,b,u,o];case 14:if(t.sent!==P.reject){t.next=17;break}return t.abrupt("continue",18);case 17:null!==b&&"object"===typeof b&&c.push([b,u]);case 18:s++,t.next=8;break;case 21:t.next=2;break;case 23:case"end":return t.stop()}}),t)},t=Object(H.a)().mark(c),n=new Set,a.delegateYield(c(e),"t0",4);case 4:case"end":return a.stop()}}),V)}!function(e){e.reject="reject"}(P||(P={}));var W=z,K=new B.a([],{includeScore:!0,includeMatches:!0,ignoreLocation:!0,ignoreFieldNorm:!0,keys:["label","content","id"]});Object(S.k)(Object(S.l)(Object(S.c)($,"lists")),(function(e){e.docChanges().forEach((function(e){var t=e.doc.data(),n=e.doc.id;if(t.content){var c,a="",i=Object(D.a)(W(JSON.parse(t.content)));try{for(i.s();!(c=i.n()).done;){var o=Object(d.a)(c.value,2),r=o[0],s=o[1];"text"==r&&(a=a+" "+s)}}catch(j){i.e(j)}finally{i.f()}}"added"===e.type?K.add(Object(l.a)(Object(l.a)({},t),{},{content:a,id:n})):"modified"===e.type?(K.remove((function(e){return e.id==n})),K.add(Object(l.a)(Object(l.a)({},t),{},{content:a,id:n}))):"removed"===e.type&&K.remove((function(e){return e.id==n}))}))}));var G=K;function J(e){var t=e.fuseSearchResults;return Object(O.jsxs)("ul",{children:[" ",t.map((function(e){var t=e.matches[0].indices.sort((function(e,t){return t[1]-t[0]-(e[1]-e[0])}))[0],n=e.matches[0].value;return Object(O.jsx)(p.a,{style:q.searchResultLink,to:"/item/".concat(e.item.id),children:Object(O.jsxs)("li",{style:q.searchResult,children:[Object(O.jsxs)("h3",{style:q.h3,children:[" ",e.item.label," "]}),Object(O.jsx)("span",{style:q.emphasis,children:n.substr(t[0],t[1]+1)}),n.substr(t[1]+1,n.length)]})})}))]})}var U,q={searchResultLink:{textDecoration:"none",color:"inherit"},searchResult:{fontFamily:"sans-serif",whiteSpace:"nowrap",fontWeight:400,fontSize:13,margin:5,height:"auto",padding:5,overflow:"hidden",textOverflow:"ellipsis",display:"block"},emphasis:{backgroundColor:"yellow",color:"red"}},Q=n(143),X=n(299);function Z(e){var t=e.firestore,n=e.fuseInstance,c=a.a.useState([]),i=Object(d.a)(c,2),o=i[0],r=i[1],s=a.a.useState(""),b=Object(d.a)(s,2),u=b[0],f=b[1],h=a.a.useState(""),p=Object(d.a)(h,2),g=p[0],x=p[1],v=a.a.useState(""),N=Object(d.a)(v,2),k=N[0],C=N[1],E=a.a.useState("ADDED AS ITEM TO"),w=Object(d.a)(E,2),I=w[0],D=w[1],B=a.a.useState(!1),_=Object(d.a)(B,2),F=_[0],$=_[1],P=a.a.useState([]),H=Object(d.a)(P,2),V=H[0],z=H[1],W=a.a.useRef(null);return a.a.useEffect((function(){Object(S.k)(Object(S.l)(Object(S.c)(t,"projects")),(function(e){r(e.docs.map((function(e){return e.data().isInbox&&x(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.data})),Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(O.jsxs)("div",{style:Y.container,children:[Object(O.jsx)(m,{label:"Search / Add",firestore:t}),Object(O.jsx)("section",{name:"SearchResultsSection",style:Y.SearchResultsSection,children:Object(O.jsx)(J,{fuseSearchResults:V})}),Object(O.jsxs)("section",{name:"SearchBoxSection",style:Object(l.a)({},j.card),children:[Object(O.jsxs)("section",{name:"RadioButtonsSection",style:Y.RadioButtonsSection,children:[Object(O.jsx)(L.a,{value:"top",control:Object(O.jsx)(R.a,{}),label:"Add as Item to Project",labelPlacement:"end",name:"addOptionRadio"}),Object(O.jsx)(L.a,{value:"top",control:Object(O.jsx)(R.a,{}),label:"Add as Content to Item",labelPlacement:"start",name:"addOptionRadio"})]}),Object(O.jsx)("section",{name:"AutocompletesSection",style:Y.AutocompletesSection,children:Object(O.jsx)(Q.a,{options:o,blurInputOnSelect:!0,openMenuOnFocus:!0,onChange:function(e){return x(e)},value:g,styles:{control:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{width:"200px"})}}})}),Object(O.jsxs)("section",{name:"SearchTextboxSection",style:Y.SearchTextboxSection,children:[Object(O.jsx)(A.a,{name:"SearchTextbox",placeholder:"Search or Add Item",autoFocus:!0,style:Y.searchTextbox,multiline:!0,type:"text",value:u,onChange:function(e){f(e.target.value),z(n.search(e.target.value))},ref:W}),Object(O.jsxs)("section",{name:"buttonsSection",style:Y.buttonsSection,children:[Object(O.jsx)(T.a,{name:"addButton",variant:"contained",style:Y.addButoon,onClick:function(e){e.preventDefault(),console.log("projectsAutocompleteIntermediaryValue",g);var n=Object(X.a)();Object(S.m)(Object(S.f)(t,"lists",n),{label:u,projectId:g.id}).catch((function(e){return console.log("error",e)})),C("/item/".concat(n)),$(!0),D("ADDED AS ITEM TO ".concat(g.label)),f(""),W.current.focus()},children:"ADD"}),Object(O.jsx)(T.a,{name:"clearButton",variant:"contained",style:Y.clearButton,onClick:function(e){f(""),W.current.focus()},children:"CLEAR"})]})]})]}),Object(O.jsx)(M,{isNotifySectionVisibleValue:F,notifySectionMessageValue:I,viewButtonLinkIntermediaryValue:k}),Object(O.jsx)(y,{})]})}var Y={container:{height:"100%",display:"flex",flexDirection:"column"},SearchResultsSection:Object(l.a)(Object(l.a)({},j.card),{},{flex:100}),AutocompletesSection:{display:"flex",padding:8},ProjectAutocomplete:{flex:1,backgroundColor:"white",marginRight:1},ItemAutocomplete:{flex:2},RadioButtonsSection:(U={display:"flex",padding:8,fontWeight:"black",justifyContent:"space-between"},Object(s.a)(U,"fontWeight",900),Object(s.a)(U,"fontSize","14px"),U),SearchTextboxSection:{display:"flex",flexDirection:"row",margin:4,padding:4,flexWrap:"wrap",width:"100%"},searchTextbox:{flex:1,marginRight:8},buttonsSection:{display:"flex",flexDirection:"column",width:64,marginRight:16},clearButton:{height:40,width:64,margin:4},addButoon:{fontWeight:900,height:40,width:64,margin:4},ViewButton:{height:"100%",boxShadow:"none",backgroundColor:"transparent",fontWeight:900,width:64,lineHeight:"14px"},ViewButtonLink:{textDecoration:"none",marginLeft:"auto",marginRight:"8px"}},ee=n(133),te=n(134),ne=n(135),ce=n(136),ae=n(137),ie=n(41),oe=n(24),re=n(47),se=n(50),le=n(42),de=n(46),je=n(36),be=n(54),ue=n(55),Oe=n.p+"static/media/chevron-down.8624f04f.svg",me=n.p+"static/media/arrow-counterclockwise.48745dc8.svg",fe=n.p+"static/media/arrow-clockwise.2ba77545.svg",he=n.p+"static/media/type-bold.b3bec3f3.svg",pe=n.p+"static/media/type-italic.d3971b39.svg",ge=n.p+"static/media/type-underline.b41f84ac.svg",xe=n.p+"static/media/type-strikethrough.5d23c904.svg",ve=n.p+"static/media/code.61783513.svg",ye=n.p+"static/media/link.7d2df934.svg",Ne=n.p+"static/media/text-left.bd29ab08.svg",Se=n.p+"static/media/text-center.03faef7b.svg",ke=n.p+"static/media/text-right.9dc4cc6e.svg",Ce=n.p+"static/media/justify.8c8fc219.svg",Ee=new Set(["paragraph","quote","code","h1","h2","ul","ol"]),we={code:"Code Block",h1:"Large Heading",h2:"Small Heading",h3:"Heading",h4:"Heading",h5:"Heading",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"};function Le(){return Object(O.jsx)("div",{className:"divider"})}function Re(e,t){null===t?(e.style.opacity="0",e.style.top="-1000px",e.style.left="-1000px"):(e.style.opacity="1",e.style.top="".concat(t.top+t.height+window.pageYOffset+10,"px"),e.style.left="".concat(t.left+window.pageXOffset-e.offsetWidth/2+t.width/2,"px"))}function Ae(e){var t=e.editor,n=Object(c.useRef)(null),a=Object(c.useRef)(null),i=Object(c.useRef)(!1),o=Object(c.useState)(""),r=Object(d.a)(o,2),s=r[0],l=r[1],j=Object(c.useState)(!1),b=Object(d.a)(j,2),u=b[0],m=b[1],f=Object(c.useState)(null),h=Object(d.a)(f,2),p=h[0],g=h[1],x=Object(c.useCallback)((function(){var e=Object(oe.$getSelection)();if(Object(oe.$isRangeSelection)(e)){var c=Me(e),a=c.getParent();Object(re.$isLinkNode)(a)?l(a.getURL()):Object(re.$isLinkNode)(c)?l(c.getURL()):l("")}var o=n.current,r=window.getSelection(),s=document.activeElement;if(null!==o){var d=t.getRootElement();if(null!==e&&!r.isCollapsed&&null!==d&&d.contains(r.anchorNode)){var j,b=r.getRangeAt(0);if(r.anchorNode===d){for(var u=d;null!=u.firstElementChild;)u=u.firstElementChild;j=u.getBoundingClientRect()}else j=b.getBoundingClientRect();i.current||Re(o,j),g(e)}else s&&"link-input"===s.className||(Re(o,null),g(null),m(!1),l(""));return!0}}),[t]);return Object(c.useEffect)((function(){return Object(le.mergeRegister)(t.registerUpdateListener((function(e){e.editorState.read((function(){x()}))})),t.registerCommand(oe.SELECTION_CHANGE_COMMAND,(function(){return x(),!0}),1))}),[t,x]),Object(c.useEffect)((function(){t.getEditorState().read((function(){x()}))}),[t,x]),Object(c.useEffect)((function(){u&&a.current&&a.current.focus()}),[u]),Object(O.jsx)("div",{ref:n,className:"link-editor",children:u?Object(O.jsx)("input",{ref:a,className:"link-input",value:s,onChange:function(e){l(e.target.value)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),null!==p&&(""!==s&&t.dispatchCommand(re.TOGGLE_LINK_COMMAND,s),m(!1))):"Escape"===e.key&&(e.preventDefault(),m(!1))}}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"link-input",children:[Object(O.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:s}),Object(O.jsx)("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:function(e){return e.preventDefault()},onClick:function(){m(!0)}})]})})})}function Te(e){var t=e.onChange,n=e.className,c=e.options,a=e.value;return Object(O.jsxs)("select",{className:n,onChange:t,value:a,children:[Object(O.jsx)("option",{hidden:!0,value:""}),c.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))]})}function Me(e){var t=e.anchor,n=e.focus,c=e.anchor.getNode(),a=e.focus.getNode();return c===a?c:e.isBackward()?Object(se.$isAtNodeEnd)(n)?c:a:Object(se.$isAtNodeEnd)(t)?a:c}function Ie(e){var t=e.editor,n=e.blockType,a=e.toolbarRef,i=e.setShowBlockOptionsDropDown,o=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=a.current,t=o.current;if(null!==e&&null!==t){var n=e.getBoundingClientRect(),c=(n.top,n.left);t.style.bottom="117px",t.style.left="".concat(c,"px")}}),[o,a]),Object(c.useEffect)((function(){var e=o.current,t=a.current;if(null!==e&&null!==t){var n=function(n){var c=n.target;e.contains(c)||t.contains(c)||i(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}}),[o,i,a]);return Object(O.jsxs)("div",{className:"dropdown",ref:o,children:[Object(O.jsxs)("button",{className:"item",onClick:function(){"paragraph"!==n&&t.update((function(){var e=Object(oe.$getSelection)();Object(oe.$isRangeSelection)(e)&&Object(se.$wrapLeafNodesInElements)(e,(function(){return Object(oe.$createParagraphNode)()}))})),i(!1)},children:[Object(O.jsx)("span",{className:"icon paragraph"}),Object(O.jsx)("span",{className:"text",children:"Normal"}),"paragraph"===n&&Object(O.jsx)("span",{className:"active"})]}),Object(O.jsxs)("button",{className:"item",onClick:function(){"h1"!==n&&t.update((function(){var e=Object(oe.$getSelection)();Object(oe.$isRangeSelection)(e)&&Object(se.$wrapLeafNodesInElements)(e,(function(){return Object(be.$createHeadingNode)("h1")}))})),i(!1)},children:[Object(O.jsx)("span",{className:"icon large-heading"}),Object(O.jsx)("span",{className:"text",children:"Large Heading"}),"h1"===n&&Object(O.jsx)("span",{className:"active"})]}),Object(O.jsxs)("button",{className:"item",onClick:function(){"h2"!==n&&t.update((function(){var e=Object(oe.$getSelection)();Object(oe.$isRangeSelection)(e)&&Object(se.$wrapLeafNodesInElements)(e,(function(){return Object(be.$createHeadingNode)("h2")}))})),i(!1)},children:[Object(O.jsx)("span",{className:"icon small-heading"}),Object(O.jsx)("span",{className:"text",children:"Small Heading"}),"h2"===n&&Object(O.jsx)("span",{className:"active"})]}),Object(O.jsxs)("button",{className:"item",onClick:function(){"ul"!==n?t.dispatchCommand(de.INSERT_UNORDERED_LIST_COMMAND):t.dispatchCommand(de.REMOVE_LIST_COMMAND),i(!1)},children:[Object(O.jsx)("span",{className:"icon bullet-list"}),Object(O.jsx)("span",{className:"text",children:"Bullet List"}),"ul"===n&&Object(O.jsx)("span",{className:"active"})]}),Object(O.jsxs)("button",{className:"item",onClick:function(){"ol"!==n?t.dispatchCommand(de.INSERT_ORDERED_LIST_COMMAND):t.dispatchCommand(de.REMOVE_LIST_COMMAND),i(!1)},children:[Object(O.jsx)("span",{className:"icon numbered-list"}),Object(O.jsx)("span",{className:"text",children:"Numbered List"}),"ol"===n&&Object(O.jsx)("span",{className:"active"})]}),Object(O.jsxs)("button",{className:"item",onClick:function(){"quote"!==n&&t.update((function(){var e=Object(oe.$getSelection)();Object(oe.$isRangeSelection)(e)&&Object(se.$wrapLeafNodesInElements)(e,(function(){return Object(be.$createQuoteNode)()}))})),i(!1)},children:[Object(O.jsx)("span",{className:"icon quote"}),Object(O.jsx)("span",{className:"text",children:"Quote"}),"quote"===n&&Object(O.jsx)("span",{className:"active"})]}),Object(O.jsxs)("button",{className:"item",onClick:function(){"code"!==n&&t.update((function(){var e=Object(oe.$getSelection)();Object(oe.$isRangeSelection)(e)&&Object(se.$wrapLeafNodesInElements)(e,(function(){return Object(ue.$createCodeNode)()}))})),i(!1)},children:[Object(O.jsx)("span",{className:"icon code"}),Object(O.jsx)("span",{className:"text",children:"Code Block"}),"code"===n&&Object(O.jsx)("span",{className:"active"})]})]})}function De(){var e=Object(ie.useLexicalComposerContext)(),t=Object(d.a)(e,1)[0],n=Object(c.useRef)(null),a=Object(c.useState)(!1),i=Object(d.a)(a,2),o=i[0],r=i[1],s=Object(c.useState)(!1),l=Object(d.a)(s,2),j=l[0],b=l[1],u=Object(c.useState)("paragraph"),m=Object(d.a)(u,2),f=m[0],h=m[1],p=Object(c.useState)(null),g=Object(d.a)(p,2),x=g[0],v=g[1],y=Object(c.useState)(!1),N=Object(d.a)(y,2),S=N[0],k=N[1],C=Object(c.useState)(""),E=Object(d.a)(C,2),w=E[0],L=E[1],R=Object(c.useState)(!1),A=Object(d.a)(R,2),T=(A[0],A[1]),M=Object(c.useState)(!1),I=Object(d.a)(M,2),D=I[0],B=I[1],_=Object(c.useState)(!1),F=Object(d.a)(_,2),$=F[0],P=F[1],H=Object(c.useState)(!1),V=Object(d.a)(H,2),z=V[0],W=V[1],K=Object(c.useState)(!1),G=Object(d.a)(K,2),J=G[0],U=G[1],q=Object(c.useState)(!1),Q=Object(d.a)(q,2),X=Q[0],Z=Q[1],Y=Object(c.useState)(!1),ee=Object(d.a)(Y,2),te=ee[0],ne=ee[1],ce=Object(c.useCallback)((function(){var e=Object(oe.$getSelection)();if(Object(oe.$isRangeSelection)(e)){var n=e.anchor.getNode(),c="root"===n.getKey()?n:n.getTopLevelElementOrThrow(),a=c.getKey();if(null!==t.getElementByKey(a))if(v(a),Object(de.$isListNode)(c)){var i=Object(le.$getNearestNodeOfType)(n,de.ListNode),o=i?i.getTag():c.getTag();h(o)}else{var r=Object(be.$isHeadingNode)(c)?c.getTag():c.getType();h(r),Object(ue.$isCodeNode)(c)&&L(c.getLanguage()||Object(ue.getDefaultCodeLanguage)())}P(e.hasFormat("bold")),W(e.hasFormat("italic")),U(e.hasFormat("underline")),Z(e.hasFormat("strikethrough")),ne(e.hasFormat("code")),T(Object(se.$isParentElementRTL)(e));var s=Me(e),l=s.getParent();Object(re.$isLinkNode)(l)||Object(re.$isLinkNode)(s)?B(!0):B(!1)}}),[t]);Object(c.useEffect)((function(){return Object(le.mergeRegister)(t.registerUpdateListener((function(e){e.editorState.read((function(){ce()}))})),t.registerCommand(oe.SELECTION_CHANGE_COMMAND,(function(e,t){return ce(),!1}),1),t.registerCommand(oe.CAN_UNDO_COMMAND,(function(e){return r(e),!1}),1),t.registerCommand(oe.CAN_REDO_COMMAND,(function(e){return b(e),!1}),1))}),[t,ce]);var ae=Object(c.useMemo)((function(){return Object(ue.getCodeLanguages)()}),[]),Re=Object(c.useCallback)((function(e){t.update((function(){if(null!==x){var t=Object(oe.$getNodeByKey)(x);Object(ue.$isCodeNode)(t)&&t.setLanguage(e.target.value)}}))}),[t,x]),De=Object(c.useCallback)((function(){D?t.dispatchCommand(re.TOGGLE_LINK_COMMAND,null):t.dispatchCommand(re.TOGGLE_LINK_COMMAND,"https://")}),[t,D]);return Object(O.jsxs)("div",{className:"toolbar",ref:n,children:[Object(O.jsx)("button",{disabled:!o,onClick:function(){t.dispatchCommand(oe.UNDO_COMMAND)},className:"toolbar-item spaced","aria-label":"Undo",children:Object(O.jsx)("img",{className:"format undo",src:me})}),Object(O.jsx)("button",{disabled:!j,onClick:function(){t.dispatchCommand(oe.REDO_COMMAND)},className:"toolbar-item","aria-label":"Redo",children:Object(O.jsx)("img",{className:"format redo",src:fe})}),Object(O.jsx)(Le,{}),Ee.has(f)&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("button",{className:"toolbar-item block-controls",onClick:function(){return k(!S)},"aria-label":"Formatting Options",children:[Object(O.jsx)("span",{className:"icon block-type "+f}),Object(O.jsx)("span",{className:"text",children:we[f]}),Object(O.jsx)("img",{className:"chevron-down",src:Oe})]}),S&&Object(je.createPortal)(Object(O.jsx)(Ie,{editor:t,blockType:f,toolbarRef:n,setShowBlockOptionsDropDown:k}),document.body),Object(O.jsx)(Le,{})]}),"code"===f?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Te,{className:"toolbar-item code-language",onChange:Re,options:ae,value:w}),Object(O.jsx)("img",{src:Oe,className:"chevron-down inside"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+($?"active":""),"aria-label":"Format Bold",children:Object(O.jsx)("img",{className:"format bold",src:he})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(z?"active":""),"aria-label":"Format Italics",children:Object(O.jsx)("img",{className:"format italic",src:pe})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(J?"active":""),"aria-label":"Format Underline",children:Object(O.jsx)("img",{className:"format underline",src:ge})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_TEXT_COMMAND,"strikethrough")},className:"toolbar-item spaced "+(X?"active":""),"aria-label":"Format Strikethrough",children:Object(O.jsx)("img",{className:"format strikethrough",src:xe})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(te?"active":""),"aria-label":"Insert Code",children:Object(O.jsx)("img",{className:"format code",src:ve})}),Object(O.jsx)("button",{onClick:De,className:"toolbar-item spaced "+(D?"active":""),"aria-label":"Insert Link",children:Object(O.jsx)("img",{className:"format link",src:ye})}),D&&Object(je.createPortal)(Object(O.jsx)(Ae,{editor:t}),document.body),Object(O.jsx)(Le,{}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_ELEMENT_COMMAND,"left")},className:"toolbar-item spaced","aria-label":"Left Align",children:Object(O.jsx)("img",{className:"format left-align",src:Ne})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_ELEMENT_COMMAND,"center")},className:"toolbar-item spaced","aria-label":"Center Align",children:Object(O.jsx)("img",{className:"format center-align",src:Se})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_ELEMENT_COMMAND,"right")},className:"toolbar-item spaced","aria-label":"Right Align",children:Object(O.jsx)("img",{className:"format right-align",src:ke})}),Object(O.jsx)("button",{onClick:function(){t.dispatchCommand(oe.FORMAT_ELEMENT_COMMAND,"justify")},className:"toolbar-item","aria-label":"Justify Align",children:Object(O.jsx)("img",{className:"format justify-align",src:Ce})})," "]})]})}var Be=n(100),_e=n(138),Fe=n(139),$e=n(140),Pe=n(141),He=n(107);n(247);function Ve(e){var t=e.initialEditorState,n=e.onEditorStateChange,c=e.cutomEditorState,a={theme:We,onError:function(e){throw e},editorState:t,nodes:[be.HeadingNode,de.ListNode,de.ListItemNode,be.QuoteNode,ue.CodeNode,ue.CodeHighlightNode,Be.TableNode,Be.TableCellNode,Be.TableRowNode,re.AutoLinkNode,re.LinkNode]};return Object(O.jsx)(ee.LexicalComposer,{initialConfig:a,children:Object(O.jsxs)("div",{className:"editor-container",children:[Object(O.jsxs)("div",{className:"editor-inner",children:[Object(O.jsx)(te.RichTextPlugin,{contentEditable:Object(O.jsx)(ne.ContentEditable,{className:"editor-input"}),placeholder:Object(O.jsx)(Ke,{})}),Object(O.jsx)(ce.HistoryPlugin,{}),Object(O.jsx)(Pe.OnChangePlugin,{ignoreSelectionChange:!0,ignoreI:!0,onChange:function(e){return n?n(e):0}}),Object(O.jsx)(ae.AutoFocusPlugin,{}),Object(O.jsx)(Fe.ListPlugin,{}),Object(O.jsx)(_e.LinkPlugin,{}),Object(O.jsx)($e.MarkdownShortcutPlugin,{transformers:He.TRANSFORMERS}),Object(O.jsx)(ze,{customEditorState:c})]}),Object(O.jsx)(De,{})]})})}function ze(e){var t=e.customEditorState,n=Object(ie.useLexicalComposerContext)(),c=Object(d.a)(n,1)[0];return a.a.useEffect((function(){var e=c.parseEditorState(t);c.setEditorState(e),c.focus()}),[c,t]),null}var We={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function Ke(){return Object(O.jsx)("div",{className:"editor-placeholder",children:"Enter some rich text..."})}var Ge=n(142),Je=n.n(Ge);function Ue(e){var t=e.firestore,n=Object(b.m)().itemId,c=a.a.useState({}),i=Object(d.a)(c,2),o=i[0],r=i[1],s=a.a.useState('{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'),j=Object(d.a)(s,2),u=j[0],f=j[1],h=a.a.useCallback(Je()((function(e,n){console.log("Save Called!"),Object(S.m)(Object(S.f)(t,"lists",n.id),{content:e},{merge:!0})}),2e3),[]);return a.a.useEffect((function(){o.id||Object(S.i)(Object(S.f)(t,"lists",n)).then((function(e){e.exists()&&(r(Object(l.a)(Object(l.a)({},e.data()),{},{id:n})),e.data().content&&f(e.data().content))})).catch((function(e){return console.log("error",e)}))}),[]),Object(O.jsxs)("div",{style:qe.container,children:[Object(O.jsx)(m,{label:o.label,firestore:t}),Object(O.jsx)(Ve,{initialEditorState:u,cutomEditorState:u,onEditorStateChange:function(e){r(Object(l.a)(Object(l.a)({},o),{},{content:JSON.stringify(e)})),h(JSON.stringify(e),o)}}),Object(O.jsx)(y,{})]})}var qe={container:{height:"100%",display:"flex",flexDirection:"column"}};function Qe(e){var t=e.firestore,n=a.a.useState([]),c=Object(d.a)(n,2),i=c[0],o=c[1],r=a.a.useState(""),s=Object(d.a)(r,2),b=s[0],u=s[1];function f(e,n){Object(S.m)(Object(S.f)(t,"projects",n),{label:e},{merge:!0})}return a.a.useEffect((function(){Object(S.k)(Object(S.l)(Object(S.c)(t,"projects")),(function(e){o(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[t]),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(O.jsx)(m,{label:"Projects",firestore:t}),Object(O.jsx)("section",{name:"projectsListSection",style:j.card,children:Object(O.jsxs)("ul",{name:"projectsList",style:j.ul,children:[" ",i.map((function(e,n){return Object(O.jsxs)("li",{style:Object(l.a)(Object(l.a)({},j.li),{},{backgroundColor:"white"}),children:[Object(O.jsx)("span",{style:Xe.serialNumberIcon,children:n+1}),Object(O.jsx)("input",{name:"projectLabelTextbox",type:"text",onChange:function(e){var t=i.slice();t[n].label=e.target.value,o(t)},onKeyPress:function(t){"Enter"==t.key&&f(t.target.value,e.id)},onBlur:function(t){t.target.value!=e.label&&f(t.target.value,e.id)},value:e.label,style:Xe.input}),Object(O.jsx)("span",{style:Xe.deleteIcon,onClick:function(n){return c=e.id,void Object(S.d)(Object(S.f)(t,"projects",c));var c},children:"-"}),Object(O.jsx)(p.a,{style:Xe.nextIcon,to:"/project/".concat(e.id),children:">"})]},e.id)}))]})}),Object(O.jsx)("section",{name:"newProject",style:j.card,children:Object(O.jsx)("input",{name:"newProjectTextBox",type:"text",placeholder:"Add a Project",autoFocus:!0,value:b,onKeyPress:function(e){var n;"Enter"===e.key&&(n=e.target.value,Object(S.b)(Object(S.c)(t,"projects"),{label:n}).then((function(e){return console.log("success",e)})).catch((function(e){return console.log("error",e)})),u(""))},onChange:function(e){u(e.target.value)},style:Xe.input})}),Object(O.jsx)(y,{})]})}var Xe={input:{border:"none",marginLeft:"5px",outline:"none",fontSize:"16pt"},deleteIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"#ee4422",width:"20px"},"textAlign","center"),nextIcon:Object(s.a)({marginLeft:"auto",marginRight:"20px",textAlign:"centre",fontWeight:900,fontSize:"16pt",backgroundColor:"lightblue",width:"20px"},"textAlign","center"),serialNumberIcon:{width:"20px",height:"20px",alignSelf:"center"}};function Ze(){console.log("Syncing"),Object(S.h)($),setTimeout((function(){Object(S.e)($)}),5e3)}Ze(),setInterval(Ze,1e4);var Ye=Object(o.a)({palette:{primary:{main:"#FFCA28"}},shape:{borderRadius:6},typography:{fontFamily:["Proxima Nova Condensed","Roboto Condensed","sans-serif"].join(","),fontSize:12}});Ye.spacing(1);var et=document.getElementById("root"),tt=Object(i.createRoot)(et),nt=Object(p.b)([{path:"/",element:Object(O.jsx)(E,{firestore:$}),errorElement:Object(O.jsx)(E,{firestore:$})},{path:"/projects",element:Object(O.jsx)(Qe,{firestore:$})},{path:"/search",element:Object(O.jsx)(Z,{firestore:$,fuseInstance:G})},{path:"/project/:projectId",element:Object(O.jsx)(k,{firestore:$})},{path:"/item/:itemId",element:Object(O.jsx)(Ue,{firestore:$})}]);tt.render(Object(O.jsx)(c.StrictMode,{children:Object(O.jsx)(r.a,{theme:Ye,children:Object(O.jsx)(b.b,{router:nt})})}))},79:function(e,t,n){}},[[258,1,2]]]);
//# sourceMappingURL=main.64541763.chunk.js.map